(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[133],{1676:function(e,i,t){Promise.resolve().then(t.bind(t,1667))},5863:function(e,i,t){"use strict";t.d(i,{Z:function(){return a}});let a=(0,t(9763).Z)("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},1667:function(e,i,t){"use strict";t.r(i),t.d(i,{default:function(){return c}});var a=t(7437),s=t(2265),r=t(7648),l=t(5863);function c(){let[e,i]=(0,s.useState)([{id:1,name:"Scuba Diving - Beginners",description:"Experience the underwater world with our beginner-friendly scuba diving package. No prior experience needed.",price:2500,image_url:"/images/services/scuba-beginners.jpg",isActive:!0,bookings:24,rating:4.8,availability:[{day:"Monday",time:"10:00 AM"}]},{id:2,name:"Advanced Scuba Certification",description:"Take your diving skills to the next level with our PADI Advanced Open Water certification course.",price:15e3,image_url:"/images/services/scuba-advanced.jpg",isActive:!0,bookings:12,rating:4.9,availability:[]},{id:3,name:"Night Diving Experience",description:"Discover the magical underwater world after dark with our guided night diving experience.",price:3500,image_url:"/images/services/night-diving.jpg",isActive:!1,bookings:8,rating:4.7,availability:[]}]),[t,c]=(0,s.useState)(null),[d,n]=(0,s.useState)(!1),[o,m]=(0,s.useState)({name:"",description:"",price:"",image_url:"",availability:[]}),[x,u]=(0,s.useState)({}),[p,b]=(0,s.useState)(!1),[h,g]=(0,s.useState)(""),v=["08:00 AM","09:00 AM","10:00 AM","11:00 AM","12:00 PM","01:00 PM","02:00 PM","03:00 PM","04:00 PM","05:00 PM"],y=e=>{let{name:i,value:t}=e.target;m({...o,[i]:t}),x[i]&&u(e=>({...e,[i]:void 0})),h&&g("")},j=(e,i,t)=>{let a=[...o.availability],s=a.findIndex(t=>t.day===e&&t.time===i);t?-1===s&&a.push({day:e,time:i}):-1!==s&&a.splice(s,1),m({...o,availability:a}),x.availability&&u(e=>({...e,availability:void 0})),h&&g("")},N=(e,i)=>o.availability.some(t=>t.day===e&&t.time===i),f=e=>{c(e),m({name:e.name,description:e.description,price:e.price.toString(),image_url:e.image_url||"",availability:e.availability||[]}),n(!0),g(""),u({}),window.scrollTo(0,0)},w=()=>{let e={};if(o.name.trim()||(e.name="Service name is required"),o.description.trim()||(e.description="Description is required"),o.price.trim()){let i=parseFloat(o.price);(isNaN(i)||i<=0)&&(e.price="Price must be a positive number")}else e.price="Price is required";return 0===o.availability.length&&(e.availability="Please select at least one availability slot"),u(e),0===Object.keys(e).length},k=e=>{window.confirm("Are you sure you want to delete this service? This cannot be undone.")&&(console.log("Deleting service with ID: ".concat(e)),i(i=>i.filter(i=>i.id!==e)),g("Service deleted successfully!"),(null==t?void 0:t.id)===e&&(n(!1),c(null)))},S=t=>{let a=e.find(e=>e.id===t);console.log("Toggling status for service ID: ".concat(t," (Current: ").concat(null==a?void 0:a.isActive,")")),i(e=>e.map(e=>e.id===t?{...e,isActive:!e.isActive}:e));let s=e.find(e=>e.id===t);g('Service "'.concat(null==s?void 0:s.name,'" ').concat((null==s?void 0:s.isActive)?"deactivated":"activated"," successfully!"))};return(0,a.jsx)("div",{className:"bg-gray-50 min-h-screen py-12",children:(0,a.jsxs)("div",{className:"container mx-auto px-4",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-8",children:[(0,a.jsx)("h1",{className:"text-2xl font-bold text-gray-800",children:"Manage Services"}),(0,a.jsx)(r.default,{href:"/vendor/dashboard",className:"text-sm text-blue-600 hover:text-blue-800",children:" ← Back to Dashboard "})]}),h&&(0,a.jsxs)("div",{className:"mb-6 bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded relative",role:"alert",children:[" ",(0,a.jsx)("span",{className:"block sm:inline",children:h})," "]}),d?(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-md overflow-hidden mb-8 border border-blue-200",children:[" ",(0,a.jsxs)("div",{className:"px-6 py-4 border-b bg-gray-50",children:[" ",(0,a.jsx)("h2",{className:"font-semibold text-lg",children:t?"Edit Service":"Add New Service"})," "]}),(0,a.jsx)("div",{className:"p-6",children:(0,a.jsxs)("form",{onSubmit:a=>{a.preventDefault(),w()&&(b(!0),g(""),console.log("Submitting Service Data:",{...o,price:parseFloat(o.price)}),setTimeout(()=>{if(t)i(e.map(e=>e.id===t.id?{...e,name:o.name,description:o.description,price:parseFloat(o.price),image_url:o.image_url,availability:o.availability}:e)),g("Service updated successfully!");else{let t={id:Math.max(0,...e.map(e=>e.id))+1,name:o.name,description:o.description,price:parseFloat(o.price),image_url:o.image_url,availability:o.availability,isActive:!0,bookings:0,rating:void 0};i([...e,t]),g("New service added successfully!")}b(!1),n(!1)},1e3))},noValidate:!0,children:[" ",(0,a.jsxs)("div",{className:"mb-4",children:[" ",(0,a.jsx)("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:" Name* "})," ",(0,a.jsx)("input",{type:"text",id:"name",name:"name",value:o.name,onChange:y,className:"w-full border ".concat(x.name?"border-red-500":"border-gray-300"," rounded-md px-3 py-2 focus:ring-blue-500 focus:border-blue-500"),required:!0})," ",x.name&&(0,a.jsx)("p",{className:"mt-1 text-sm text-red-600",children:x.name})," "]}),(0,a.jsxs)("div",{className:"mb-4",children:[" ",(0,a.jsx)("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1",children:" Description* "})," ",(0,a.jsx)("textarea",{id:"description",name:"description",value:o.description,onChange:y,rows:3,className:"w-full border ".concat(x.description?"border-red-500":"border-gray-300"," rounded-md px-3 py-2 focus:ring-blue-500 focus:border-blue-500"),required:!0})," ",x.description&&(0,a.jsx)("p",{className:"mt-1 text-sm text-red-600",children:x.description})," "]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 mb-4",children:[(0,a.jsxs)("div",{children:[" ",(0,a.jsx)("label",{htmlFor:"price",className:"block text-sm font-medium text-gray-700 mb-1",children:" Price (₹)* "})," ",(0,a.jsx)("input",{type:"number",id:"price",name:"price",value:o.price,onChange:y,min:"0",step:"0.01",className:"w-full border ".concat(x.price?"border-red-500":"border-gray-300"," rounded-md px-3 py-2 focus:ring-blue-500 focus:border-blue-500"),required:!0})," ",x.price&&(0,a.jsx)("p",{className:"mt-1 text-sm text-red-600",children:x.price})," "]}),(0,a.jsxs)("div",{children:[" ",(0,a.jsx)("label",{htmlFor:"image_url",className:"block text-sm font-medium text-gray-700 mb-1",children:" Image URL "})," ",(0,a.jsx)("input",{type:"url",id:"image_url",name:"image_url",value:o.image_url,onChange:y,placeholder:"https://...",className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:ring-blue-500 focus:border-blue-500"})," "]})]}),(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[" Availability* ",(0,a.jsx)("span",{className:"text-xs text-gray-500",children:"(Select available time slots)"})," "]}),x.availability&&(0,a.jsx)("p",{className:"mb-2 text-sm text-red-600",children:x.availability}),(0,a.jsxs)("div",{className:"border border-gray-300 rounded-md overflow-hidden",children:[" ",(0,a.jsxs)("div",{className:"overflow-x-auto",children:[" ",(0,a.jsxs)("table",{className:"min-w-full divide-y divide-gray-200 text-xs",children:[" ",(0,a.jsxs)("thead",{className:"bg-gray-50",children:[" ",(0,a.jsxs)("tr",{children:[" ",(0,a.jsx)("th",{className:"px-2 py-2 text-left font-medium text-gray-500 uppercase",children:" Day "})," ",v.map(e=>(0,a.jsxs)("th",{className:"px-1 py-2 text-center font-medium text-gray-500 uppercase",children:[" ",e.replace(" AM","a").replace(" PM","p")," "]},e))," "]})," "]})," ",(0,a.jsxs)("tbody",{className:"bg-white divide-y divide-gray-200",children:[" ",["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"].map(e=>(0,a.jsxs)("tr",{children:[" ",(0,a.jsxs)("td",{className:"px-2 py-2 whitespace-nowrap font-medium text-gray-900",children:[" ",e.substring(0,3)," "]})," ",v.map(i=>(0,a.jsxs)("td",{className:"px-1 py-2 whitespace-nowrap text-center",children:[" ",(0,a.jsx)("input",{type:"checkbox",checked:N(e,i),onChange:t=>j(e,i,t.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"})," "]},"".concat(e,"-").concat(i)))," "]},e))," "]})," "]})," "]})," "]})]}),(0,a.jsxs)("div",{className:"flex justify-end space-x-3",children:[" ",(0,a.jsx)("button",{type:"button",onClick:()=>{n(!1),u({})},className:"bg-gray-200 hover:bg-gray-300 text-gray-700 px-4 py-2 rounded-md text-sm",children:" Cancel "})," ",(0,a.jsxs)("button",{type:"submit",disabled:p,className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-md text-sm disabled:opacity-50 flex items-center",children:[" ",p&&(0,a.jsx)(l.Z,{className:"animate-spin h-4 w-4 mr-2"})," ",p?"Saving...":t?"Update Service":"Add Service"," "]})," "]})]})})]}):(0,a.jsx)("div",{className:"mb-6",children:(0,a.jsx)("button",{onClick:()=>{c(null),m({name:"",description:"",price:"",image_url:"",availability:[]}),n(!0),g(""),u({}),window.scrollTo(0,0)},className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-md text-sm",children:" + Add New Service "})}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[(0,a.jsxs)("div",{className:"px-6 py-4 border-b bg-gray-50",children:[" ",(0,a.jsx)("h2",{className:"font-semibold",children:"Your Services"})," "]}),0!==e.length||d?(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,a.jsx)("thead",{className:"bg-gray-50",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:" Service "}),(0,a.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:" Price "}),(0,a.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:" Status "}),(0,a.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:" Bookings "}),(0,a.jsx)("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:" Actions "})]})}),(0,a.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(e=>(0,a.jsxs)("tr",{children:[(0,a.jsx)("td",{className:"px-4 py-4 whitespace-nowrap",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsxs)("div",{className:"h-10 w-10 bg-gray-200 rounded-md flex-shrink-0",children:[" "," "]}),(0,a.jsxs)("div",{className:"ml-3",children:[" ",(0,a.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.name})," ",(0,a.jsx)("div",{className:"text-xs text-gray-500 truncate max-w-xs",children:e.description})," "]})]})}),(0,a.jsxs)("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-900",children:[" ₹",e.price.toLocaleString()," "]}),(0,a.jsxs)("td",{className:"px-4 py-4 whitespace-nowrap",children:[" ",(0,a.jsxs)("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full ".concat(e.isActive?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"),children:[" ",e.isActive?"Active":"Inactive"," "]})," "]}),(0,a.jsxs)("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-500",children:[" ",e.bookings," "]}),(0,a.jsxs)("td",{className:"px-4 py-4 whitespace-nowrap text-right text-sm font-medium space-x-3",children:[(0,a.jsx)("button",{onClick:()=>f(e),className:"text-blue-600 hover:text-blue-900",children:" Edit "}),(0,a.jsxs)("button",{onClick:()=>S(e.id),className:e.isActive?"text-yellow-600 hover:text-yellow-900":"text-green-600 hover:text-green-900",children:[" ",e.isActive?"Deactivate":"Activate"," "]}),(0,a.jsx)("button",{onClick:()=>k(e.id),className:"text-red-600 hover:text-red-900",children:" Delete "})]})]},e.id))})]})}):(0,a.jsx)("div",{className:"p-8 text-center text-gray-500",children:" You haven't added any services yet. "})]}),(0,a.jsxs)("div",{className:"mt-8 bg-blue-50 border border-blue-200 rounded-lg p-6",children:[" ",(0,a.jsx)("h3",{className:"text-lg font-medium text-blue-800 mb-4",children:"Service Management Tips"})," ",(0,a.jsxs)("ul",{className:"space-y-2 text-sm text-blue-700",children:[" "," "]})," "]})]})})}}},function(e){e.O(0,[451,971,30,744],function(){return e(e.s=1676)}),_N_E=e.O()}]);