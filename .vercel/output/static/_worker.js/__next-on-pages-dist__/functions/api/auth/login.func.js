var G=Object.defineProperty;var V=Object.getOwnPropertyDescriptor;var Y=Object.getOwnPropertyNames;var Z=Object.prototype.hasOwnProperty;var ee=(r,i)=>()=>(r&&(i=r(r=0)),i);var H=(r,i,T,k)=>{if(i&&typeof i=="object"||typeof i=="function")for(let x of Y(i))!Z.call(r,x)&&x!==T&&G(r,x,{get:()=>i[x],enumerable:!(k=V(i,x))||k.enumerable});return r},X=(r,i,T)=>(H(r,i,"default"),T&&H(T,i,"default"));var ne=r=>H(G({},"__esModule",{value:!0}),r);var L={};import*as bn from"async_hooks";var z=ee(()=>{X(L,bn)});import{__getNamedExports as te}from"../../../../__next-on-pages-dist__/webpack/ac7e0cd817c0f96ac6506045b651299a.js";import{__getNamedExports as _e}from"../../../../__next-on-pages-dist__/webpack/7528.js";import{__getNamedExports as ae}from"../../../../__next-on-pages-dist__/webpack/1d2470119d4f846d0a077893f2422c32.js";import{__getNamedExports as oe}from"../../../../__next-on-pages-dist__/webpack/841752b73933acd57f0d034e25bbec96.js";import{__getNamedExports as re}from"../../../../__next-on-pages-dist__/manifest/537259e2ed205f5a7994cb4f05664668.js";var h=globalThis.__nextOnPagesRoutesIsolation.getProxyFor("/api/auth/login"),t=te(h,h,h),se=t.__chunk_6195,ce=t.__chunk_2067,ue=t.__chunk_9182,ie=t.__chunk_8983,de=t.__chunk_5228,ge=t.__chunk_2296,he=t.__chunk_2594,pe=t.__chunk_6735,ke=t.__chunk_8219,xe=t.__chunk_5577,le=t.__chunk_9254,fe=t.__chunk_9206,me=t.__chunk_989,be=t.__chunk_1863,ye=t.__chunk_3039,ve=t.__chunk_335,Ee=t.__chunk_8042,$e=t.__chunk_7765,Re=t.__chunk_6991,Pe=t.__chunk_8816,we=t.__chunk_6631,Ne=t.__chunk_4828,Oe=t.__chunk_4834,je=t.__chunk_828,Ae=t.__chunk_5927,Se=t.__chunk_8439,Ce=t.__chunk_4363,Ie=t.__chunk_2039,Ke=t.__chunk_8264,Te=t.__chunk_1583,Fe=t.__chunk_7908,Me=t.__chunk_8949,Le=t.__chunk_796,Ue=t.__chunk_1651,De=t.__chunk_5105,qe=t.__chunk_9642,Be=t.__chunk_5028,He=t.__chunk_9548,Xe=t.__chunk_6914,We=t.__chunk_7960,Ge=t.__chunk_4337,ze=t.__chunk_8819,Je=_e(h,h,h),Qe=Je.__chunk_7528,J=ae(h,h,h),Ve=J.__chunk_9985,Ye=J.__chunk_4155,p=oe(h,h,h),Ze=p.__chunk_1730,en=p.__chunk_3818,nn=p.__chunk_7037,tn=p.__chunk_9573,_n=p.__chunk_7701,an=p.__chunk_662,on=p.__chunk_4101,rn=p.__chunk_6776,sn=p.__chunk_3665,cn=p.__chunk_7444,un=p.__chunk_4591,dn=p.__chunk_7983,gn=p.__chunk_5234,hn=p.__chunk_2561,pn=p.__chunk_2988,kn=p.__chunk_5996,xn=p.__chunk_676,Q=re(h,h,h),ln=Q.__NEXT_FONT_MANIFEST,fn=Q.__REACT_LOADABLE_MANIFEST,Pn=((r,i,T)=>(i._ENTRIES={},r.__BUILD_MANIFEST={polyfillFiles:["static/chunks/polyfills-42372ed130431b0a.js"],devFiles:[],ampDevFiles:[],lowPriorityFiles:[],rootMainFiles:["static/chunks/webpack-345df78362f7afca.js","static/chunks/fd9d1056-76a4a06e4cad8499.js","static/chunks/30-8cde92f59af3217f.js","static/chunks/main-app-7762fbaf79fbc5f3.js"],pages:{"/_app":["static/chunks/webpack-345df78362f7afca.js","static/chunks/framework-f66176bb897dc684.js","static/chunks/main-54d8bce3c6875e10.js","static/chunks/pages/_app-72b849fbd24ac258.js"],"/_error":["static/chunks/webpack-345df78362f7afca.js","static/chunks/framework-f66176bb897dc684.js","static/chunks/main-54d8bce3c6875e10.js","static/chunks/pages/_error-7ba65e1336b92748.js"]},ampFirstPages:[]},r.__BUILD_MANIFEST.lowPriorityFiles=["/static/_bVfOgkvKtK0yec9nEOT6/_buildManifest.js",,"/static/_bVfOgkvKtK0yec9nEOT6/_ssgManifest.js"],r.__REACT_LOADABLE_MANIFEST=fn,r.__NEXT_FONT_MANIFEST=ln,r.__INTERCEPTION_ROUTE_REWRITE_MANIFEST="[]",(()=>{"use strict";var k={},x={};function _(n){var u=x[n];if(u!==void 0)return u.exports;var s=x[n]={exports:{}},l=!0;try{k[n](s,s.exports,_),l=!1}finally{l&&delete x[n]}return s.exports}_.m=k,_.amdO={},(()=>{var n=[];_.O=(u,s,l,f)=>{if(s){f=f||0;for(var d=n.length;d>0&&n[d-1][2]>f;d--)n[d]=n[d-1];n[d]=[s,l,f];return}for(var g=1/0,d=0;d<n.length;d++){for(var[s,l,f]=n[d],y=!0,b=0;b<s.length;b++)g>=f&&Object.keys(_.O).every(A=>_.O[A](s[b]))?s.splice(b--,1):(y=!1,f<g&&(g=f));if(y){n.splice(d--,1);var E=l();E!==void 0&&(u=E)}}return u}})(),_.n=n=>{var u=n&&n.__esModule?()=>n.default:()=>n;return _.d(u,{a:u}),u},_.d=(n,u)=>{for(var s in u)_.o(u,s)&&!_.o(n,s)&&Object.defineProperty(n,s,{enumerable:!0,get:u[s]})},_.e=()=>Promise.resolve(),_.g=function(){if(typeof i=="object")return i;try{return this||Function("return this")()}catch{if(typeof window=="object")return window}}(),_.o=(n,u)=>Object.prototype.hasOwnProperty.call(n,u),_.r=n=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},(()=>{var n={993:0};_.O.j=l=>n[l]===0;var u=(l,f)=>{var d,g,[y,b,E]=f,O=0;if(y.some(F=>n[F]!==0)){for(d in b)_.o(b,d)&&(_.m[d]=b[d]);if(E)var j=E(_)}for(l&&l(f);O<y.length;O++)g=y[O],_.o(n,g)&&n[g]&&n[g][0](),n[g]=0;return _.O(j)},s=r.webpackChunk_N_E=r.webpackChunk_N_E||[];s.forEach(u.bind(null,0)),s.push=u.bind(null,s.push.bind(s))})()})(),(r.webpackChunk_N_E=r.webpackChunk_N_E||[]).push([[720],{8819:ze,4337:Ge,7960:We,6914:Xe,9548:He,5028:Be,9642:qe,5105:De,1651:Ue,796:Le,8949:Me,7908:Fe,1583:Te,8264:Ke,2039:Ie,4363:Ce,8439:Se,5927:Ae,828:je,4834:Oe,4828:Ne,6631:we,8816:Pe,6991:Re,7765:$e,8042:Ee,335:ve,3039:ye,1863:be,989:me,9206:fe,9254:le,5577:xe,8219:ke,6735:pe,2594:he,2296:ge,5228:de,8983:ie,9182:ue}]),(r.webpackChunk_N_E=r.webpackChunk_N_E||[]).push([[883],{676:xn,5996:kn,2988:pn,2561:hn,5234:gn,7983:dn,4591:un,7444:cn,3665:sn,6776:rn,4101:on,662:an,7701:_n,9573:tn,7037:nn,3818:en,1730:Ze}]),(r.webpackChunk_N_E=r.webpackChunk_N_E||[]).push([[829],{4155:Ye,9985:Ve,7528:Qe}]),(r.webpackChunk_N_E=r.webpackChunk_N_E||[]).push([[873],{2067:ce,6195:se,5003:(k,x,_)=>{"use strict";_.r(x),_.d(x,{ComponentMod:()=>q,default:()=>B});var n={};_.r(n),_.d(n,{POST:()=>O,runtime:()=>b});var u={};_.r(u),_.d(u,{originalPathname:()=>U,patchFetch:()=>D,requestAsyncStorage:()=>F,routeModule:()=>j,serverHooks:()=>A,staticGenerationAsyncStorage:()=>K});var s=_(7983),l=_(2561),f=_(4828),d=_(6631),g=_(9985),y=_(7528);let b="edge";async function E(M){let w=new TextEncoder().encode(M);return Array.from(new Uint8Array(await crypto.subtle.digest("SHA-256",w))).map(v=>v.toString(16).padStart(2,"0")).join("")}async function O(M){try{let{email:w,password:v}=await M.json();if(!w||!v)return g.xk.json({success:!1,message:"Email and password are required"},{status:400});let S=await y.db.prepare("SELECT * FROM users WHERE email = ?").bind(w).first();if(!S)return g.xk.json({success:!1,message:"Invalid credentials"},{status:401});if(!S.password_hash)return g.xk.json({success:!1,message:"Invalid credentials (no password set)"},{status:401});if(await E(v)!==S.password_hash)return g.xk.json({success:!1,message:"Invalid credentials"},{status:401});let{password_hash:$,...e}=S;return g.xk.json({success:!0,message:"Login successful",data:e})}catch(w){return console.error("Error during login:",w),g.xk.json({success:!1,message:"Login failed"},{status:500})}}let j=new l.AppRouteRouteModule({definition:{kind:f.x.APP_ROUTE,page:"/api/auth/login/route",pathname:"/api/auth/login",filename:"route",bundlePath:"app/api/auth/login/route"},resolvedPagePath:"/home/chandra/reach_andaman/andaman-explorer-final/src/app/api/auth/login/route.ts",nextConfigOutput:"",userland:n}),{requestAsyncStorage:F,staticGenerationAsyncStorage:K,serverHooks:A}=j,U="/api/auth/login/route";function D(){return(0,d.XH)({serverHooks:A,staticGenerationAsyncStorage:K})}let q=u,B=s.a.wrap(j)}},k=>{var x=n=>k(k.s=n);k.O(0,[720,883,829],()=>x(5003));var _=k.O();(i._ENTRIES=typeof i._ENTRIES>"u"?{}:i._ENTRIES)["middleware_app/api/auth/login/route"]=_}]),function(){let k={exports:{},loaded:!1};return function(_,n){var u=Object.create,s=Object.defineProperty,l=Object.getOwnPropertyDescriptor,f=Object.getOwnPropertyNames,d=Object.getPrototypeOf,g=Object.prototype.hasOwnProperty,y=e=>s(e,"__esModule",{value:!0}),b=(e,c)=>{y(e);for(var o in c)s(e,o,{get:c[o],enumerable:!0})},E=(e,c,o)=>{if(c&&typeof c=="object"||typeof c=="function")for(let a of f(c))!g.call(e,a)&&a!=="default"&&s(e,a,{get:()=>c[a],enumerable:!(o=l(c,a))||o.enumerable});return e},O=e=>E(y(s(e!=null?u(d(e)):{},"default",e&&e.__esModule&&"default"in e?{get:()=>e.default,enumerable:!0}:{value:e,enumerable:!0})),e);b(n,{default:()=>w});var j=O((z(),ne(L))),F="@next/request-context",K=Symbol.for(F),A=Symbol.for("internal.storage");function U(){let e=i;if(!e[K]){let c=new j.AsyncLocalStorage,o={get:()=>c.getStore(),[A]:c};e[K]=o}return e[K]}var D=U();function q(e,c){return D[A].run(e,c)}function B(e){let c={};return e&&e.forEach((o,a)=>{c[a]=o,a.toLowerCase()==="set-cookie"&&(c[a]=M(o))}),c}function M(e){let c=[],o=0,a,R,m,C,I;function P(){for(;o<e.length&&/\s/.test(e.charAt(o));)o+=1;return o<e.length}function N(){return R=e.charAt(o),R!=="="&&R!==";"&&R!==","}for(;o<e.length;){for(a=o,I=!1;P();)if(R=e.charAt(o),R===","){for(m=o,o+=1,P(),C=o;o<e.length&&N();)o+=1;o<e.length&&e.charAt(o)==="="?(I=!0,o=C,c.push(e.substring(a,m)),a=o):o=m+1}else o+=1;(!I||o>=e.length)&&c.push(e.substring(a,e.length))}return c}function w(e){let c=e.staticRoutes.map(a=>({regexp:new RegExp(a.namedRegex),page:a.page})),o=e.dynamicRoutes?.map(a=>({regexp:new RegExp(a.namedRegex),page:a.page}))||[];return async function(a,R){let m=new URL(a.url).pathname,C={};if(e.nextConfig?.basePath&&m.startsWith(e.nextConfig.basePath)&&(m=m.replace(e.nextConfig.basePath,"")||"/"),e.nextConfig?.i18n)for(let P of e.nextConfig.i18n.locales){let N=new RegExp(`^/${P}($|/)`,"i");if(m.match(N)){m=m.replace(N,"/")||"/";break}}for(let P of c)if(P.regexp.exec(m)){C.name=P.page;break}if(!C.name){let P=S(m);for(let N of o||[]){if(P&&!S(N.page))continue;let W=N.regexp.exec(m);if(W){C={name:N.page,params:W.groups};break}}}let I=await q({waitUntil:R.waitUntil},()=>i._ENTRIES[`middleware_${e.name}`].default.call({},{request:{url:a.url,method:a.method,headers:B(a.headers),ip:v(a.headers,$.Ip),geo:{city:v(a.headers,$.City,!0),country:v(a.headers,$.Country,!0),latitude:v(a.headers,$.Latitude),longitude:v(a.headers,$.Longitude),region:v(a.headers,$.Region,!0)},nextConfig:e.nextConfig,page:C,body:a.body}}));return I.waitUntil&&R.waitUntil(I.waitUntil),I.response}}function v(e,c,o=!1){let a=e.get(c)||void 0;return o&&a?decodeURIComponent(a):a}function S(e){return e==="/api"||e.startsWith("/api/")}var $;(function(e){e.City="x-vercel-ip-city",e.Country="x-vercel-ip-country",e.Ip="x-real-ip",e.Latitude="x-vercel-ip-latitude",e.Longitude="x-vercel-ip-longitude",e.Region="x-vercel-ip-country-region"})($||($={}))}(k,k.exports),k.exports}.call({}).default({name:"app/api/auth/login/route",staticRoutes:[{page:"/",regex:"^/(?:/)?$",routeKeys:{},namedRegex:"^/(?:/)?$"},{page:"/_not-found",regex:"^/_not\\-found(?:/)?$",routeKeys:{},namedRegex:"^/_not\\-found(?:/)?$"},{page:"/about",regex:"^/about(?:/)?$",routeKeys:{},namedRegex:"^/about(?:/)?$"},{page:"/activities",regex:"^/activities(?:/)?$",routeKeys:{},namedRegex:"^/activities(?:/)?$"},{page:"/auth/signin",regex:"^/auth/signin(?:/)?$",routeKeys:{},namedRegex:"^/auth/signin(?:/)?$"},{page:"/auth/signup",regex:"^/auth/signup(?:/)?$",routeKeys:{},namedRegex:"^/auth/signup(?:/)?$"},{page:"/contact",regex:"^/contact(?:/)?$",routeKeys:{},namedRegex:"^/contact(?:/)?$"},{page:"/destinations",regex:"^/destinations(?:/)?$",routeKeys:{},namedRegex:"^/destinations(?:/)?$"},{page:"/favicon.ico",regex:"^/favicon\\.ico(?:/)?$",routeKeys:{},namedRegex:"^/favicon\\.ico(?:/)?$"},{page:"/packages",regex:"^/packages(?:/)?$",routeKeys:{},namedRegex:"^/packages(?:/)?$"},{page:"/search",regex:"^/search(?:/)?$",routeKeys:{},namedRegex:"^/search(?:/)?$"},{page:"/search-results",regex:"^/search\\-results(?:/)?$",routeKeys:{},namedRegex:"^/search\\-results(?:/)?$"},{page:"/user/bookings",regex:"^/user/bookings(?:/)?$",routeKeys:{},namedRegex:"^/user/bookings(?:/)?$"},{page:"/user/dashboard",regex:"^/user/dashboard(?:/)?$",routeKeys:{},namedRegex:"^/user/dashboard(?:/)?$"},{page:"/vendor/bookings",regex:"^/vendor/bookings(?:/)?$",routeKeys:{},namedRegex:"^/vendor/bookings(?:/)?$"},{page:"/vendor/dashboard",regex:"^/vendor/dashboard(?:/)?$",routeKeys:{},namedRegex:"^/vendor/dashboard(?:/)?$"},{page:"/vendor/login",regex:"^/vendor/login(?:/)?$",routeKeys:{},namedRegex:"^/vendor/login(?:/)?$"},{page:"/vendor/register",regex:"^/vendor/register(?:/)?$",routeKeys:{},namedRegex:"^/vendor/register(?:/)?$"},{page:"/vendor/services",regex:"^/vendor/services(?:/)?$",routeKeys:{},namedRegex:"^/vendor/services(?:/)?$"},{page:"/vendors",regex:"^/vendors(?:/)?$",routeKeys:{},namedRegex:"^/vendors(?:/)?$"}],dynamicRoutes:[{page:"/api/auth/[...nextauth]",regex:"^/api/auth/(.+?)(?:/)?$",routeKeys:{nxtPnextauth:"nxtPnextauth"},namedRegex:"^/api/auth/(?<nxtPnextauth>.+?)(?:/)?$"},{page:"/api/bookings/[id]",regex:"^/api/bookings/([^/]+?)(?:/)?$",routeKeys:{nxtPid:"nxtPid"},namedRegex:"^/api/bookings/(?<nxtPid>[^/]+?)(?:/)?$"},{page:"/api/destinations/[id]",regex:"^/api/destinations/([^/]+?)(?:/)?$",routeKeys:{nxtPid:"nxtPid"},namedRegex:"^/api/destinations/(?<nxtPid>[^/]+?)(?:/)?$"},{page:"/api/packages/[id]",regex:"^/api/packages/([^/]+?)(?:/)?$",routeKeys:{nxtPid:"nxtPid"},namedRegex:"^/api/packages/(?<nxtPid>[^/]+?)(?:/)?$"},{page:"/api/vendors/[id]",regex:"^/api/vendors/([^/]+?)(?:/)?$",routeKeys:{nxtPid:"nxtPid"},namedRegex:"^/api/vendors/(?<nxtPid>[^/]+?)(?:/)?$"},{page:"/bookings/confirmation/[id]",regex:"^/bookings/confirmation/([^/]+?)(?:/)?$",routeKeys:{nxtPid:"nxtPid"},namedRegex:"^/bookings/confirmation/(?<nxtPid>[^/]+?)(?:/)?$"},{page:"/bookings/payment/[id]",regex:"^/bookings/payment/([^/]+?)(?:/)?$",routeKeys:{nxtPid:"nxtPid"},namedRegex:"^/bookings/payment/(?<nxtPid>[^/]+?)(?:/)?$"},{page:"/destinations/[id]",regex:"^/destinations/([^/]+?)(?:/)?$",routeKeys:{nxtPid:"nxtPid"},namedRegex:"^/destinations/(?<nxtPid>[^/]+?)(?:/)?$"},{page:"/packages/[id]",regex:"^/packages/([^/]+?)(?:/)?$",routeKeys:{nxtPid:"nxtPid"},namedRegex:"^/packages/(?<nxtPid>[^/]+?)(?:/)?$"},{page:"/packages/[id]/book",regex:"^/packages/([^/]+?)/book(?:/)?$",routeKeys:{nxtPid:"nxtPid"},namedRegex:"^/packages/(?<nxtPid>[^/]+?)/book(?:/)?$"}],nextConfig:{basePath:""}})))(h,h,h);export{Pn as default};
