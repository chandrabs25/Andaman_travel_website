var W=Object.defineProperty;var V=Object.getOwnPropertyDescriptor;var Y=Object.getOwnPropertyNames;var Z=Object.prototype.hasOwnProperty;var ee=(u,g)=>()=>(u&&(g=u(u=0)),g);var X=(u,g,K,x)=>{if(g&&typeof g=="object"||typeof g=="function")for(let f of Y(g))!Z.call(u,f)&&f!==K&&W(u,f,{get:()=>g[f],enumerable:!(x=V(g,f))||x.enumerable});return u},G=(u,g,K)=>(X(u,g,"default"),K&&X(K,g,"default"));var ne=u=>X(W({},"__esModule",{value:!0}),u);var D={};import*as fn from"async_hooks";var z=ee(()=>{G(D,fn)});import{__getNamedExports as te}from"../../../__next-on-pages-dist__/webpack/1d2470119d4f846d0a077893f2422c32.js";import{__getNamedExports as _e}from"../../../__next-on-pages-dist__/webpack/ac7e0cd817c0f96ac6506045b651299a.js";import{__getNamedExports as oe}from"../../../__next-on-pages-dist__/webpack/841752b73933acd57f0d034e25bbec96.js";import{__getNamedExports as ae}from"../../../__next-on-pages-dist__/manifest/537259e2ed205f5a7994cb4f05664668.js";var b=globalThis.__nextOnPagesRoutesIsolation.getProxyFor("/api/bookings"),J=te(b,b,b),re=J.__chunk_9985,se=J.__chunk_4155,t=_e(b,b,b),ce=t.__chunk_6195,ue=t.__chunk_2067,ie=t.__chunk_9182,ge=t.__chunk_8983,de=t.__chunk_5228,he=t.__chunk_2296,ke=t.__chunk_2594,pe=t.__chunk_6735,xe=t.__chunk_8219,fe=t.__chunk_5577,le=t.__chunk_9254,me=t.__chunk_9206,be=t.__chunk_989,ye=t.__chunk_1863,ve=t.__chunk_3039,$e=t.__chunk_335,Ee=t.__chunk_8042,Re=t.__chunk_7765,Pe=t.__chunk_6991,we=t.__chunk_8816,Ne=t.__chunk_6631,Ie=t.__chunk_4828,Oe=t.__chunk_4834,je=t.__chunk_828,Se=t.__chunk_5927,Ae=t.__chunk_8439,Ce=t.__chunk_4363,Ke=t.__chunk_2039,Te=t.__chunk_8264,Fe=t.__chunk_1583,De=t.__chunk_7908,Me=t.__chunk_8949,Le=t.__chunk_796,Ue=t.__chunk_1651,qe=t.__chunk_5105,Be=t.__chunk_9642,Xe=t.__chunk_5028,Ge=t.__chunk_9548,He=t.__chunk_6914,We=t.__chunk_7960,ze=t.__chunk_4337,Je=t.__chunk_8819,k=oe(b,b,b),Qe=k.__chunk_1730,Ve=k.__chunk_3818,Ye=k.__chunk_7037,Ze=k.__chunk_9573,en=k.__chunk_7701,nn=k.__chunk_662,tn=k.__chunk_4101,_n=k.__chunk_6776,on=k.__chunk_3665,an=k.__chunk_7444,rn=k.__chunk_4591,sn=k.__chunk_7983,cn=k.__chunk_5234,un=k.__chunk_2561,gn=k.__chunk_2988,dn=k.__chunk_5996,hn=k.__chunk_676,Q=ae(b,b,b),kn=Q.__NEXT_FONT_MANIFEST,pn=Q.__REACT_LOADABLE_MANIFEST,vn=((u,g,K)=>(g._ENTRIES={},u.__BUILD_MANIFEST={polyfillFiles:["static/chunks/polyfills-42372ed130431b0a.js"],devFiles:[],ampDevFiles:[],lowPriorityFiles:[],rootMainFiles:["static/chunks/webpack-345df78362f7afca.js","static/chunks/fd9d1056-76a4a06e4cad8499.js","static/chunks/30-8cde92f59af3217f.js","static/chunks/main-app-7762fbaf79fbc5f3.js"],pages:{"/_app":["static/chunks/webpack-345df78362f7afca.js","static/chunks/framework-f66176bb897dc684.js","static/chunks/main-54d8bce3c6875e10.js","static/chunks/pages/_app-72b849fbd24ac258.js"],"/_error":["static/chunks/webpack-345df78362f7afca.js","static/chunks/framework-f66176bb897dc684.js","static/chunks/main-54d8bce3c6875e10.js","static/chunks/pages/_error-7ba65e1336b92748.js"]},ampFirstPages:[]},u.__BUILD_MANIFEST.lowPriorityFiles=["/static/wXz6iFuJHdgV_-KJhpLUq/_buildManifest.js",,"/static/wXz6iFuJHdgV_-KJhpLUq/_ssgManifest.js"],u.__REACT_LOADABLE_MANIFEST=pn,u.__NEXT_FONT_MANIFEST=kn,u.__INTERCEPTION_ROUTE_REWRITE_MANIFEST="[]",(()=>{"use strict";var x={},f={};function o(n){var i=f[n];if(i!==void 0)return i.exports;var c=f[n]={exports:{}},l=!0;try{x[n](c,c.exports,o),l=!1}finally{l&&delete f[n]}return c.exports}o.m=x,o.amdO={},(()=>{var n=[];o.O=(i,c,l,m)=>{if(c){m=m||0;for(var d=n.length;d>0&&n[d-1][2]>m;d--)n[d]=n[d-1];n[d]=[c,l,m];return}for(var h=1/0,d=0;d<n.length;d++){for(var[c,l,m]=n[d],$=!0,y=0;y<c.length;y++)h>=m&&Object.keys(o.O).every(j=>o.O[j](c[y]))?c.splice(y--,1):($=!1,m<h&&(h=m));if($){n.splice(d--,1);var R=l();R!==void 0&&(i=R)}}return i}})(),o.n=n=>{var i=n&&n.__esModule?()=>n.default:()=>n;return o.d(i,{a:i}),i},o.d=(n,i)=>{for(var c in i)o.o(i,c)&&!o.o(n,c)&&Object.defineProperty(n,c,{enumerable:!0,get:i[c]})},o.e=()=>Promise.resolve(),o.g=function(){if(typeof g=="object")return g;try{return this||Function("return this")()}catch{if(typeof window=="object")return window}}(),o.o=(n,i)=>Object.prototype.hasOwnProperty.call(n,i),o.r=n=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},(()=>{var n={993:0};o.O.j=l=>n[l]===0;var i=(l,m)=>{var d,h,[$,y,R]=m,I=0;if($.some(O=>n[O]!==0)){for(d in y)o.o(y,d)&&(o.m[d]=y[d]);if(R)var T=R(o)}for(l&&l(m);I<$.length;I++)h=$[I],o.o(n,h)&&n[h]&&n[h][0](),n[h]=0;return o.O(T)},c=u.webpackChunk_N_E=u.webpackChunk_N_E||[];c.forEach(i.bind(null,0)),c.push=i.bind(null,c.push.bind(c))})()})(),(u.webpackChunk_N_E=u.webpackChunk_N_E||[]).push([[720],{8819:Je,4337:ze,7960:We,6914:He,9548:Ge,5028:Xe,9642:Be,5105:qe,1651:Ue,796:Le,8949:Me,7908:De,1583:Fe,8264:Te,2039:Ke,4363:Ce,8439:Ae,5927:Se,828:je,4834:Oe,4828:Ie,6631:Ne,8816:we,6991:Pe,7765:Re,8042:Ee,335:$e,3039:ve,1863:ye,989:be,9206:me,9254:le,5577:fe,8219:xe,6735:pe,2594:ke,2296:he,5228:de,8983:ge,9182:ie}]),(u.webpackChunk_N_E=u.webpackChunk_N_E||[]).push([[883],{676:hn,5996:dn,2988:gn,2561:un,5234:cn,7983:sn,4591:rn,7444:an,3665:on,6776:_n,4101:tn,662:nn,7701:en,9573:Ze,7037:Ye,3818:Ve,1730:Qe}]),(u.webpackChunk_N_E=u.webpackChunk_N_E||[]).push([[946],{2067:ue,6195:ce,8341:(x,f,o)=>{"use strict";o.r(f),o.d(f,{ComponentMod:()=>q,default:()=>B});var n={};o.r(n),o.d(n,{GET:()=>R,POST:()=>I,runtime:()=>$});var i={};o.r(i),o.d(i,{originalPathname:()=>L,patchFetch:()=>U,requestAsyncStorage:()=>F,routeModule:()=>O,serverHooks:()=>M,staticGenerationAsyncStorage:()=>j});var c=o(7983),l=o(2561),m=o(4828),d=o(6631),h=o(9985);let $="edge",y=[];async function R(S){try{let{searchParams:r}=new URL(S.url),E=r.get("userId"),p=r.get("vendorId"),e=r.get("status"),s=[...y];return E&&(s=s.filter(_=>_.userId===E)),p&&(s=s.filter(_=>_.vendorId===p)),e&&(s=s.filter(_=>_.status===e)),h.xk.json({bookings:s},{status:200})}catch(r){return console.error("Error fetching bookings:",r),h.xk.json({message:"Failed to fetch bookings",error:r instanceof Error?r.message:"Unknown error"},{status:500})}}async function I(S){try{let r=await S.json(),E=["packageId","userId","vendorId","startDate","endDate","guests","amount"].filter(e=>!(e in r)||!r[e]);if(E.length>0)return h.xk.json({message:`Missing required fields: ${E.join(", ")}`},{status:400});if(!await T(r.packageId,r.startDate,r.endDate,r.guests))return h.xk.json({message:"The selected dates or package is not available"},{status:409});let p={id:`booking_${Date.now()}`,packageId:r.packageId,userId:r.userId,vendorId:r.vendorId,startDate:r.startDate,endDate:r.endDate,guests:r.guests,amount:r.amount,status:"pending",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};return y.push(p),h.xk.json({booking:p},{status:201})}catch(r){return console.error("Error creating booking:",r),h.xk.json({message:"Failed to create booking",error:r instanceof Error?r.message:"Unknown error"},{status:500})}}async function T(S,r,E,p){return console.log(`Checking availability for package ${S}, ${r}-${E}, ${p} guests...`),!0}let O=new l.AppRouteRouteModule({definition:{kind:m.x.APP_ROUTE,page:"/api/bookings/route",pathname:"/api/bookings",filename:"route",bundlePath:"app/api/bookings/route"},resolvedPagePath:"/home/chandra/reach_andaman/andaman-explorer-final/src/app/api/bookings/route.ts",nextConfigOutput:"",userland:n}),{requestAsyncStorage:F,staticGenerationAsyncStorage:j,serverHooks:M}=O,L="/api/bookings/route";function U(){return(0,d.XH)({serverHooks:M,staticGenerationAsyncStorage:j})}let q=i,B=c.a.wrap(O)},4155:se,9985:re},x=>{var f=n=>x(x.s=n);x.O(0,[720,883],()=>f(8341));var o=x.O();(g._ENTRIES=typeof g._ENTRIES>"u"?{}:g._ENTRIES)["middleware_app/api/bookings/route"]=o}]),function(){let x={exports:{},loaded:!1};return function(o,n){var i=Object.create,c=Object.defineProperty,l=Object.getOwnPropertyDescriptor,m=Object.getOwnPropertyNames,d=Object.getPrototypeOf,h=Object.prototype.hasOwnProperty,$=e=>c(e,"__esModule",{value:!0}),y=(e,s)=>{$(e);for(var _ in s)c(e,_,{get:s[_],enumerable:!0})},R=(e,s,_)=>{if(s&&typeof s=="object"||typeof s=="function")for(let a of m(s))!h.call(e,a)&&a!=="default"&&c(e,a,{get:()=>s[a],enumerable:!(_=l(s,a))||_.enumerable});return e},I=e=>R($(c(e!=null?i(d(e)):{},"default",e&&e.__esModule&&"default"in e?{get:()=>e.default,enumerable:!0}:{value:e,enumerable:!0})),e);y(n,{default:()=>S});var T=I((z(),ne(D))),O="@next/request-context",F=Symbol.for(O),j=Symbol.for("internal.storage");function M(){let e=g;if(!e[F]){let s=new T.AsyncLocalStorage,_={get:()=>s.getStore(),[j]:s};e[F]=_}return e[F]}var L=M();function U(e,s){return L[j].run(e,s)}function q(e){let s={};return e&&e.forEach((_,a)=>{s[a]=_,a.toLowerCase()==="set-cookie"&&(s[a]=B(_))}),s}function B(e){let s=[],_=0,a,P,v,A,C;function w(){for(;_<e.length&&/\s/.test(e.charAt(_));)_+=1;return _<e.length}function N(){return P=e.charAt(_),P!=="="&&P!==";"&&P!==","}for(;_<e.length;){for(a=_,C=!1;w();)if(P=e.charAt(_),P===","){for(v=_,_+=1,w(),A=_;_<e.length&&N();)_+=1;_<e.length&&e.charAt(_)==="="?(C=!0,_=A,s.push(e.substring(a,v)),a=_):_=v+1}else _+=1;(!C||_>=e.length)&&s.push(e.substring(a,e.length))}return s}function S(e){let s=e.staticRoutes.map(a=>({regexp:new RegExp(a.namedRegex),page:a.page})),_=e.dynamicRoutes?.map(a=>({regexp:new RegExp(a.namedRegex),page:a.page}))||[];return async function(a,P){let v=new URL(a.url).pathname,A={};if(e.nextConfig?.basePath&&v.startsWith(e.nextConfig.basePath)&&(v=v.replace(e.nextConfig.basePath,"")||"/"),e.nextConfig?.i18n)for(let w of e.nextConfig.i18n.locales){let N=new RegExp(`^/${w}($|/)`,"i");if(v.match(N)){v=v.replace(N,"/")||"/";break}}for(let w of s)if(w.regexp.exec(v)){A.name=w.page;break}if(!A.name){let w=E(v);for(let N of _||[]){if(w&&!E(N.page))continue;let H=N.regexp.exec(v);if(H){A={name:N.page,params:H.groups};break}}}let C=await U({waitUntil:P.waitUntil},()=>g._ENTRIES[`middleware_${e.name}`].default.call({},{request:{url:a.url,method:a.method,headers:q(a.headers),ip:r(a.headers,p.Ip),geo:{city:r(a.headers,p.City,!0),country:r(a.headers,p.Country,!0),latitude:r(a.headers,p.Latitude),longitude:r(a.headers,p.Longitude),region:r(a.headers,p.Region,!0)},nextConfig:e.nextConfig,page:A,body:a.body}}));return C.waitUntil&&P.waitUntil(C.waitUntil),C.response}}function r(e,s,_=!1){let a=e.get(s)||void 0;return _&&a?decodeURIComponent(a):a}function E(e){return e==="/api"||e.startsWith("/api/")}var p;(function(e){e.City="x-vercel-ip-city",e.Country="x-vercel-ip-country",e.Ip="x-real-ip",e.Latitude="x-vercel-ip-latitude",e.Longitude="x-vercel-ip-longitude",e.Region="x-vercel-ip-country-region"})(p||(p={}))}(x,x.exports),x.exports}.call({}).default({name:"app/api/bookings/route",staticRoutes:[{page:"/",regex:"^/(?:/)?$",routeKeys:{},namedRegex:"^/(?:/)?$"},{page:"/_not-found",regex:"^/_not\\-found(?:/)?$",routeKeys:{},namedRegex:"^/_not\\-found(?:/)?$"},{page:"/about",regex:"^/about(?:/)?$",routeKeys:{},namedRegex:"^/about(?:/)?$"},{page:"/activities",regex:"^/activities(?:/)?$",routeKeys:{},namedRegex:"^/activities(?:/)?$"},{page:"/auth/signin",regex:"^/auth/signin(?:/)?$",routeKeys:{},namedRegex:"^/auth/signin(?:/)?$"},{page:"/auth/signup",regex:"^/auth/signup(?:/)?$",routeKeys:{},namedRegex:"^/auth/signup(?:/)?$"},{page:"/contact",regex:"^/contact(?:/)?$",routeKeys:{},namedRegex:"^/contact(?:/)?$"},{page:"/destinations",regex:"^/destinations(?:/)?$",routeKeys:{},namedRegex:"^/destinations(?:/)?$"},{page:"/favicon.ico",regex:"^/favicon\\.ico(?:/)?$",routeKeys:{},namedRegex:"^/favicon\\.ico(?:/)?$"},{page:"/packages",regex:"^/packages(?:/)?$",routeKeys:{},namedRegex:"^/packages(?:/)?$"},{page:"/search",regex:"^/search(?:/)?$",routeKeys:{},namedRegex:"^/search(?:/)?$"},{page:"/search-results",regex:"^/search\\-results(?:/)?$",routeKeys:{},namedRegex:"^/search\\-results(?:/)?$"},{page:"/user/bookings",regex:"^/user/bookings(?:/)?$",routeKeys:{},namedRegex:"^/user/bookings(?:/)?$"},{page:"/user/dashboard",regex:"^/user/dashboard(?:/)?$",routeKeys:{},namedRegex:"^/user/dashboard(?:/)?$"},{page:"/vendor/bookings",regex:"^/vendor/bookings(?:/)?$",routeKeys:{},namedRegex:"^/vendor/bookings(?:/)?$"},{page:"/vendor/dashboard",regex:"^/vendor/dashboard(?:/)?$",routeKeys:{},namedRegex:"^/vendor/dashboard(?:/)?$"},{page:"/vendor/login",regex:"^/vendor/login(?:/)?$",routeKeys:{},namedRegex:"^/vendor/login(?:/)?$"},{page:"/vendor/register",regex:"^/vendor/register(?:/)?$",routeKeys:{},namedRegex:"^/vendor/register(?:/)?$"},{page:"/vendor/services",regex:"^/vendor/services(?:/)?$",routeKeys:{},namedRegex:"^/vendor/services(?:/)?$"},{page:"/vendors",regex:"^/vendors(?:/)?$",routeKeys:{},namedRegex:"^/vendors(?:/)?$"}],dynamicRoutes:[{page:"/api/auth/[...nextauth]",regex:"^/api/auth/(.+?)(?:/)?$",routeKeys:{nxtPnextauth:"nxtPnextauth"},namedRegex:"^/api/auth/(?<nxtPnextauth>.+?)(?:/)?$"},{page:"/api/bookings/[id]",regex:"^/api/bookings/([^/]+?)(?:/)?$",routeKeys:{nxtPid:"nxtPid"},namedRegex:"^/api/bookings/(?<nxtPid>[^/]+?)(?:/)?$"},{page:"/api/destinations/[id]",regex:"^/api/destinations/([^/]+?)(?:/)?$",routeKeys:{nxtPid:"nxtPid"},namedRegex:"^/api/destinations/(?<nxtPid>[^/]+?)(?:/)?$"},{page:"/api/packages/[id]",regex:"^/api/packages/([^/]+?)(?:/)?$",routeKeys:{nxtPid:"nxtPid"},namedRegex:"^/api/packages/(?<nxtPid>[^/]+?)(?:/)?$"},{page:"/api/vendors/[id]",regex:"^/api/vendors/([^/]+?)(?:/)?$",routeKeys:{nxtPid:"nxtPid"},namedRegex:"^/api/vendors/(?<nxtPid>[^/]+?)(?:/)?$"},{page:"/bookings/confirmation/[id]",regex:"^/bookings/confirmation/([^/]+?)(?:/)?$",routeKeys:{nxtPid:"nxtPid"},namedRegex:"^/bookings/confirmation/(?<nxtPid>[^/]+?)(?:/)?$"},{page:"/bookings/payment/[id]",regex:"^/bookings/payment/([^/]+?)(?:/)?$",routeKeys:{nxtPid:"nxtPid"},namedRegex:"^/bookings/payment/(?<nxtPid>[^/]+?)(?:/)?$"},{page:"/destinations/[id]",regex:"^/destinations/([^/]+?)(?:/)?$",routeKeys:{nxtPid:"nxtPid"},namedRegex:"^/destinations/(?<nxtPid>[^/]+?)(?:/)?$"},{page:"/packages/[id]",regex:"^/packages/([^/]+?)(?:/)?$",routeKeys:{nxtPid:"nxtPid"},namedRegex:"^/packages/(?<nxtPid>[^/]+?)(?:/)?$"},{page:"/packages/[id]/book",regex:"^/packages/([^/]+?)/book(?:/)?$",routeKeys:{nxtPid:"nxtPid"},namedRegex:"^/packages/(?<nxtPid>[^/]+?)/book(?:/)?$"}],nextConfig:{basePath:""}})))(b,b,b);export{vn as default};
