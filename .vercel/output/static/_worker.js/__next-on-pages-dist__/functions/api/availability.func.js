var W=Object.defineProperty;var V=Object.getOwnPropertyDescriptor;var Y=Object.getOwnPropertyNames;var Z=Object.prototype.hasOwnProperty;var ee=(c,u)=>()=>(c&&(u=c(c=0)),u);var X=(c,u,C,l)=>{if(u&&typeof u=="object"||typeof u=="function")for(let x of Y(u))!Z.call(c,x)&&x!==C&&W(c,x,{get:()=>u[x],enumerable:!(l=V(u,x))||l.enumerable});return c},G=(c,u,C)=>(X(c,u,"default"),C&&X(C,u,"default"));var te=c=>X(W({},"__esModule",{value:!0}),c);var U={};import*as lt from"async_hooks";var z=ee(()=>{G(U,lt)});import{__getNamedExports as ne}from"../../../__next-on-pages-dist__/webpack/1d2470119d4f846d0a077893f2422c32.js";import{__getNamedExports as ae}from"../../../__next-on-pages-dist__/webpack/ac7e0cd817c0f96ac6506045b651299a.js";import{__getNamedExports as _e}from"../../../__next-on-pages-dist__/webpack/841752b73933acd57f0d034e25bbec96.js";import{__getNamedExports as re}from"../../../__next-on-pages-dist__/manifest/537259e2ed205f5a7994cb4f05664668.js";var v=globalThis.__nextOnPagesRoutesIsolation.getProxyFor("/api/availability"),J=ne(v,v,v),oe=J.__chunk_9985,se=J.__chunk_4155,n=ae(v,v,v),ce=n.__chunk_6195,ie=n.__chunk_2067,ue=n.__chunk_9182,ge=n.__chunk_8983,de=n.__chunk_5228,he=n.__chunk_2296,pe=n.__chunk_2594,ke=n.__chunk_6735,le=n.__chunk_8219,xe=n.__chunk_5577,fe=n.__chunk_9254,me=n.__chunk_9206,be=n.__chunk_989,ye=n.__chunk_1863,ve=n.__chunk_3039,Ee=n.__chunk_335,Pe=n.__chunk_8042,$e=n.__chunk_7765,Re=n.__chunk_6991,we=n.__chunk_8816,Ne=n.__chunk_6631,Oe=n.__chunk_4828,je=n.__chunk_4834,Ie=n.__chunk_828,Se=n.__chunk_5927,Te=n.__chunk_8439,De=n.__chunk_4363,Ae=n.__chunk_2039,Ke=n.__chunk_8264,Ce=n.__chunk_1583,Fe=n.__chunk_7908,Me=n.__chunk_8949,Ue=n.__chunk_796,Le=n.__chunk_1651,qe=n.__chunk_5105,Be=n.__chunk_9642,Xe=n.__chunk_5028,Ge=n.__chunk_9548,He=n.__chunk_6914,We=n.__chunk_7960,ze=n.__chunk_4337,Je=n.__chunk_8819,k=_e(v,v,v),Qe=k.__chunk_1730,Ve=k.__chunk_3818,Ye=k.__chunk_7037,Ze=k.__chunk_9573,et=k.__chunk_7701,tt=k.__chunk_662,nt=k.__chunk_4101,at=k.__chunk_6776,_t=k.__chunk_3665,rt=k.__chunk_7444,ot=k.__chunk_4591,st=k.__chunk_7983,ct=k.__chunk_5234,it=k.__chunk_2561,ut=k.__chunk_2988,gt=k.__chunk_5996,dt=k.__chunk_676,Q=re(v,v,v),ht=Q.__NEXT_FONT_MANIFEST,pt=Q.__REACT_LOADABLE_MANIFEST,yt=((c,u,C)=>(u._ENTRIES={},c.__BUILD_MANIFEST={polyfillFiles:["static/chunks/polyfills-42372ed130431b0a.js"],devFiles:[],ampDevFiles:[],lowPriorityFiles:[],rootMainFiles:["static/chunks/webpack-345df78362f7afca.js","static/chunks/fd9d1056-76a4a06e4cad8499.js","static/chunks/30-8cde92f59af3217f.js","static/chunks/main-app-7762fbaf79fbc5f3.js"],pages:{"/_app":["static/chunks/webpack-345df78362f7afca.js","static/chunks/framework-f66176bb897dc684.js","static/chunks/main-54d8bce3c6875e10.js","static/chunks/pages/_app-72b849fbd24ac258.js"],"/_error":["static/chunks/webpack-345df78362f7afca.js","static/chunks/framework-f66176bb897dc684.js","static/chunks/main-54d8bce3c6875e10.js","static/chunks/pages/_error-7ba65e1336b92748.js"]},ampFirstPages:[]},c.__BUILD_MANIFEST.lowPriorityFiles=["/static/_bVfOgkvKtK0yec9nEOT6/_buildManifest.js",,"/static/_bVfOgkvKtK0yec9nEOT6/_ssgManifest.js"],c.__REACT_LOADABLE_MANIFEST=pt,c.__NEXT_FONT_MANIFEST=ht,c.__INTERCEPTION_ROUTE_REWRITE_MANIFEST="[]",(()=>{"use strict";var l={},x={};function r(t){var i=x[t];if(i!==void 0)return i.exports;var s=x[t]={exports:{}},f=!0;try{l[t](s,s.exports,r),f=!1}finally{f&&delete x[t]}return s.exports}r.m=l,r.amdO={},(()=>{var t=[];r.O=(i,s,f,m)=>{if(s){m=m||0;for(var g=t.length;g>0&&t[g-1][2]>m;g--)t[g]=t[g-1];t[g]=[s,f,m];return}for(var h=1/0,g=0;g<t.length;g++){for(var[s,f,m]=t[g],$=!0,P=0;P<s.length;P++)h>=m&&Object.keys(r.O).every(D=>r.O[D](s[P]))?s.splice(P--,1):($=!1,m<h&&(h=m));if($){t.splice(g--,1);var N=f();N!==void 0&&(i=N)}}return i}})(),r.n=t=>{var i=t&&t.__esModule?()=>t.default:()=>t;return r.d(i,{a:i}),i},r.d=(t,i)=>{for(var s in i)r.o(i,s)&&!r.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:i[s]})},r.e=()=>Promise.resolve(),r.g=function(){if(typeof u=="object")return u;try{return this||Function("return this")()}catch{if(typeof window=="object")return window}}(),r.o=(t,i)=>Object.prototype.hasOwnProperty.call(t,i),r.r=t=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},(()=>{var t={993:0};r.O.j=f=>t[f]===0;var i=(f,m)=>{var g,h,[$,P,N]=m,O=0;if($.some(S=>t[S]!==0)){for(g in P)r.o(P,g)&&(r.m[g]=P[g]);if(N)var F=N(r)}for(f&&f(m);O<$.length;O++)h=$[O],r.o(t,h)&&t[h]&&t[h][0](),t[h]=0;return r.O(F)},s=c.webpackChunk_N_E=c.webpackChunk_N_E||[];s.forEach(i.bind(null,0)),s.push=i.bind(null,s.push.bind(s))})()})(),(c.webpackChunk_N_E=c.webpackChunk_N_E||[]).push([[720],{8819:Je,4337:ze,7960:We,6914:He,9548:Ge,5028:Xe,9642:Be,5105:qe,1651:Le,796:Ue,8949:Me,7908:Fe,1583:Ce,8264:Ke,2039:Ae,4363:De,8439:Te,5927:Se,828:Ie,4834:je,4828:Oe,6631:Ne,8816:we,6991:Re,7765:$e,8042:Pe,335:Ee,3039:ve,1863:ye,989:be,9206:me,9254:fe,5577:xe,8219:le,6735:ke,2594:pe,2296:he,5228:de,8983:ge,9182:ue}]),(c.webpackChunk_N_E=c.webpackChunk_N_E||[]).push([[883],{676:dt,5996:gt,2988:ut,2561:it,5234:ct,7983:st,4591:ot,7444:rt,3665:_t,6776:at,4101:nt,662:tt,7701:et,9573:Ze,7037:Ye,3818:Ve,1730:Qe}]),(c.webpackChunk_N_E=c.webpackChunk_N_E||[]).push([[325],{2067:ie,6195:ce,6514:(l,x,r)=>{"use strict";r.r(x),r.d(x,{ComponentMod:()=>q,default:()=>B});var t={};r.r(t),r.d(t,{GET:()=>N,runtime:()=>$});var i={};r.r(i),r.d(i,{originalPathname:()=>D,patchFetch:()=>L,requestAsyncStorage:()=>F,routeModule:()=>O,serverHooks:()=>T,staticGenerationAsyncStorage:()=>S});var s=r(7983),f=r(2561),m=r(4828),g=r(6631),h=r(9985);let $="edge",P={pkg_havelock_adventure:["2025-05-01","2025-05-02","2025-05-03"],pkg_neil_island_getaway:["2025-06-15","2025-06-16","2025-06-17"]};async function N(A){try{let j=A.nextUrl.searchParams.get("packageId"),K=A.nextUrl.searchParams.get("startDate"),R=A.nextUrl.searchParams.get("endDate"),M=A.nextUrl.searchParams.get("guests");if(!j||!K||!R||!M)return h.xk.json({message:"Missing required parameters: packageId, startDate, endDate, guests"},{status:400});let b=parseInt(M);return isNaN(b)?h.xk.json({message:"Invalid parameter: guests must be a number"},{status:400}):function(e,o,a,_){if(Object.prototype.hasOwnProperty.call(P,e)){let E=P[e],d=new Date(o),w=new Date(a);for(let p=new Date(d);p<=w;p.setDate(p.getDate()+1)){let y=new Date(p).toISOString().split("T")[0];if(E.includes(y))return!1}}return!(_>10)}(j,K,R,b)?h.xk.json({available:!0,message:"The selected package is available for booking",packageId:j,startDate:K,endDate:R,guests:b,pricing:{basePrice:12500*b,taxes:2500*b,totalAmount:15e3*b}},{status:200}):h.xk.json({available:!1,message:"The selected package is not available for the specified dates or number of guests",alternativeDates:function(e,o){let a=new Date(e),_=Math.round((new Date(o).getTime()-a.getTime())/864e5),E=[];for(let d=1;d<=3;d++){let w=7*d,p=new Date(a);p.setDate(p.getDate()+w);let y=new Date(p);y.setDate(y.getDate()+_),E.push({startDate:p.toISOString().split("T")[0],endDate:y.toISOString().split("T")[0]})}return E}(K,R)},{status:200})}catch(j){return console.error("Error checking availability:",j),h.xk.json({message:"Failed to check availability",error:j instanceof Error?j.message:"Unknown error"},{status:500})}}let O=new f.AppRouteRouteModule({definition:{kind:m.x.APP_ROUTE,page:"/api/availability/route",pathname:"/api/availability",filename:"route",bundlePath:"app/api/availability/route"},resolvedPagePath:"/home/chandra/reach_andaman/andaman-explorer-final/src/app/api/availability/route.ts",nextConfigOutput:"",userland:t}),{requestAsyncStorage:F,staticGenerationAsyncStorage:S,serverHooks:T}=O,D="/api/availability/route";function L(){return(0,g.XH)({serverHooks:T,staticGenerationAsyncStorage:S})}let q=i,B=s.a.wrap(O)},4155:se,9985:oe},l=>{var x=t=>l(l.s=t);l.O(0,[720,883],()=>x(6514));var r=l.O();(u._ENTRIES=typeof u._ENTRIES>"u"?{}:u._ENTRIES)["middleware_app/api/availability/route"]=r}]),function(){let l={exports:{},loaded:!1};return function(r,t){var i=Object.create,s=Object.defineProperty,f=Object.getOwnPropertyDescriptor,m=Object.getOwnPropertyNames,g=Object.getPrototypeOf,h=Object.prototype.hasOwnProperty,$=e=>s(e,"__esModule",{value:!0}),P=(e,o)=>{$(e);for(var a in o)s(e,a,{get:o[a],enumerable:!0})},N=(e,o,a)=>{if(o&&typeof o=="object"||typeof o=="function")for(let _ of m(o))!h.call(e,_)&&_!=="default"&&s(e,_,{get:()=>o[_],enumerable:!(a=f(o,_))||a.enumerable});return e},O=e=>N($(s(e!=null?i(g(e)):{},"default",e&&e.__esModule&&"default"in e?{get:()=>e.default,enumerable:!0}:{value:e,enumerable:!0})),e);P(t,{default:()=>K});var F=O((z(),te(U))),S="@next/request-context",T=Symbol.for(S),D=Symbol.for("internal.storage");function L(){let e=u;if(!e[T]){let o=new F.AsyncLocalStorage,a={get:()=>o.getStore(),[D]:o};e[T]=a}return e[T]}var q=L();function B(e,o){return q[D].run(e,o)}function A(e){let o={};return e&&e.forEach((a,_)=>{o[_]=a,_.toLowerCase()==="set-cookie"&&(o[_]=j(a))}),o}function j(e){let o=[],a=0,_,E,d,w,p;function y(){for(;a<e.length&&/\s/.test(e.charAt(a));)a+=1;return a<e.length}function I(){return E=e.charAt(a),E!=="="&&E!==";"&&E!==","}for(;a<e.length;){for(_=a,p=!1;y();)if(E=e.charAt(a),E===","){for(d=a,a+=1,y(),w=a;a<e.length&&I();)a+=1;a<e.length&&e.charAt(a)==="="?(p=!0,a=w,o.push(e.substring(_,d)),_=a):a=d+1}else a+=1;(!p||a>=e.length)&&o.push(e.substring(_,e.length))}return o}function K(e){let o=e.staticRoutes.map(_=>({regexp:new RegExp(_.namedRegex),page:_.page})),a=e.dynamicRoutes?.map(_=>({regexp:new RegExp(_.namedRegex),page:_.page}))||[];return async function(_,E){let d=new URL(_.url).pathname,w={};if(e.nextConfig?.basePath&&d.startsWith(e.nextConfig.basePath)&&(d=d.replace(e.nextConfig.basePath,"")||"/"),e.nextConfig?.i18n)for(let y of e.nextConfig.i18n.locales){let I=new RegExp(`^/${y}($|/)`,"i");if(d.match(I)){d=d.replace(I,"/")||"/";break}}for(let y of o)if(y.regexp.exec(d)){w.name=y.page;break}if(!w.name){let y=M(d);for(let I of a||[]){if(y&&!M(I.page))continue;let H=I.regexp.exec(d);if(H){w={name:I.page,params:H.groups};break}}}let p=await B({waitUntil:E.waitUntil},()=>u._ENTRIES[`middleware_${e.name}`].default.call({},{request:{url:_.url,method:_.method,headers:A(_.headers),ip:R(_.headers,b.Ip),geo:{city:R(_.headers,b.City,!0),country:R(_.headers,b.Country,!0),latitude:R(_.headers,b.Latitude),longitude:R(_.headers,b.Longitude),region:R(_.headers,b.Region,!0)},nextConfig:e.nextConfig,page:w,body:_.body}}));return p.waitUntil&&E.waitUntil(p.waitUntil),p.response}}function R(e,o,a=!1){let _=e.get(o)||void 0;return a&&_?decodeURIComponent(_):_}function M(e){return e==="/api"||e.startsWith("/api/")}var b;(function(e){e.City="x-vercel-ip-city",e.Country="x-vercel-ip-country",e.Ip="x-real-ip",e.Latitude="x-vercel-ip-latitude",e.Longitude="x-vercel-ip-longitude",e.Region="x-vercel-ip-country-region"})(b||(b={}))}(l,l.exports),l.exports}.call({}).default({name:"app/api/availability/route",staticRoutes:[{page:"/",regex:"^/(?:/)?$",routeKeys:{},namedRegex:"^/(?:/)?$"},{page:"/_not-found",regex:"^/_not\\-found(?:/)?$",routeKeys:{},namedRegex:"^/_not\\-found(?:/)?$"},{page:"/about",regex:"^/about(?:/)?$",routeKeys:{},namedRegex:"^/about(?:/)?$"},{page:"/activities",regex:"^/activities(?:/)?$",routeKeys:{},namedRegex:"^/activities(?:/)?$"},{page:"/auth/signin",regex:"^/auth/signin(?:/)?$",routeKeys:{},namedRegex:"^/auth/signin(?:/)?$"},{page:"/auth/signup",regex:"^/auth/signup(?:/)?$",routeKeys:{},namedRegex:"^/auth/signup(?:/)?$"},{page:"/contact",regex:"^/contact(?:/)?$",routeKeys:{},namedRegex:"^/contact(?:/)?$"},{page:"/destinations",regex:"^/destinations(?:/)?$",routeKeys:{},namedRegex:"^/destinations(?:/)?$"},{page:"/favicon.ico",regex:"^/favicon\\.ico(?:/)?$",routeKeys:{},namedRegex:"^/favicon\\.ico(?:/)?$"},{page:"/packages",regex:"^/packages(?:/)?$",routeKeys:{},namedRegex:"^/packages(?:/)?$"},{page:"/search",regex:"^/search(?:/)?$",routeKeys:{},namedRegex:"^/search(?:/)?$"},{page:"/search-results",regex:"^/search\\-results(?:/)?$",routeKeys:{},namedRegex:"^/search\\-results(?:/)?$"},{page:"/user/bookings",regex:"^/user/bookings(?:/)?$",routeKeys:{},namedRegex:"^/user/bookings(?:/)?$"},{page:"/user/dashboard",regex:"^/user/dashboard(?:/)?$",routeKeys:{},namedRegex:"^/user/dashboard(?:/)?$"},{page:"/vendor/bookings",regex:"^/vendor/bookings(?:/)?$",routeKeys:{},namedRegex:"^/vendor/bookings(?:/)?$"},{page:"/vendor/dashboard",regex:"^/vendor/dashboard(?:/)?$",routeKeys:{},namedRegex:"^/vendor/dashboard(?:/)?$"},{page:"/vendor/login",regex:"^/vendor/login(?:/)?$",routeKeys:{},namedRegex:"^/vendor/login(?:/)?$"},{page:"/vendor/register",regex:"^/vendor/register(?:/)?$",routeKeys:{},namedRegex:"^/vendor/register(?:/)?$"},{page:"/vendor/services",regex:"^/vendor/services(?:/)?$",routeKeys:{},namedRegex:"^/vendor/services(?:/)?$"},{page:"/vendors",regex:"^/vendors(?:/)?$",routeKeys:{},namedRegex:"^/vendors(?:/)?$"}],dynamicRoutes:[{page:"/api/auth/[...nextauth]",regex:"^/api/auth/(.+?)(?:/)?$",routeKeys:{nxtPnextauth:"nxtPnextauth"},namedRegex:"^/api/auth/(?<nxtPnextauth>.+?)(?:/)?$"},{page:"/api/bookings/[id]",regex:"^/api/bookings/([^/]+?)(?:/)?$",routeKeys:{nxtPid:"nxtPid"},namedRegex:"^/api/bookings/(?<nxtPid>[^/]+?)(?:/)?$"},{page:"/api/destinations/[id]",regex:"^/api/destinations/([^/]+?)(?:/)?$",routeKeys:{nxtPid:"nxtPid"},namedRegex:"^/api/destinations/(?<nxtPid>[^/]+?)(?:/)?$"},{page:"/api/packages/[id]",regex:"^/api/packages/([^/]+?)(?:/)?$",routeKeys:{nxtPid:"nxtPid"},namedRegex:"^/api/packages/(?<nxtPid>[^/]+?)(?:/)?$"},{page:"/api/vendors/[id]",regex:"^/api/vendors/([^/]+?)(?:/)?$",routeKeys:{nxtPid:"nxtPid"},namedRegex:"^/api/vendors/(?<nxtPid>[^/]+?)(?:/)?$"},{page:"/bookings/confirmation/[id]",regex:"^/bookings/confirmation/([^/]+?)(?:/)?$",routeKeys:{nxtPid:"nxtPid"},namedRegex:"^/bookings/confirmation/(?<nxtPid>[^/]+?)(?:/)?$"},{page:"/bookings/payment/[id]",regex:"^/bookings/payment/([^/]+?)(?:/)?$",routeKeys:{nxtPid:"nxtPid"},namedRegex:"^/bookings/payment/(?<nxtPid>[^/]+?)(?:/)?$"},{page:"/destinations/[id]",regex:"^/destinations/([^/]+?)(?:/)?$",routeKeys:{nxtPid:"nxtPid"},namedRegex:"^/destinations/(?<nxtPid>[^/]+?)(?:/)?$"},{page:"/packages/[id]",regex:"^/packages/([^/]+?)(?:/)?$",routeKeys:{nxtPid:"nxtPid"},namedRegex:"^/packages/(?<nxtPid>[^/]+?)(?:/)?$"},{page:"/packages/[id]/book",regex:"^/packages/([^/]+?)/book(?:/)?$",routeKeys:{nxtPid:"nxtPid"},namedRegex:"^/packages/(?<nxtPid>[^/]+?)/book(?:/)?$"}],nextConfig:{basePath:""}})))(v,v,v);export{yt as default};
